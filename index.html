<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–∏—à–ª–∏—Å—Ç –ò–ª—å–∏</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>–í–∏—à–ª–∏—Å—Ç –ò–ª—å–∏ üéÅ</h1>
        <p>–ó–¥–µ—Å—å —Å–æ–±—Ä–∞–Ω—ã –∏–¥–µ–∏ –ø–æ–¥–∞—Ä–∫–æ–≤ –ø–æ —Ä–∞–∑–Ω—ã–º —Ü–µ–Ω–æ–≤—ã–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</p>
    </header>

    <nav id="category-nav">
        <button data-category="to5000">–î–æ 5 000 ‚ÇΩ</button>
        <button data-category="5000to10000">5 000 ‚Äì 10 000 ‚ÇΩ</button>
        <button data-category="from10000">–û—Ç 10 000 ‚ÇΩ</button>
    </nav>

    <main id="wishlist-container" class="fade-in"></main>

    <script>
        async function loadWishlist() {
            try {
                const res = await fetch('wishlist.json');
                const data = await res.json();
                renderCategory(data.to5000, 'to5000');
            } catch (err) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ JSON', err);
            }
        }

        function renderCategory(items, category) {
            const container = document.getElementById('wishlist-container');
            container.innerHTML = '';
            items.forEach(item => {
                const card = document.createElement('div');
                card.className = 'card fade-in';
                card.innerHTML = `
                    <img src="${item.image}" alt="${item.title}">
                    <h3>${item.title}</h3>
                    <p>${item.description}</p>
                `;
                card.onclick = () => window.open(item.link, '_blank');
                container.appendChild(card);
            });
        }

        document.getElementById('category-nav').addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                fetch('wishlist.json')
                    .then(res => res.json())
                    .then(data => {
                        renderCategory(data[e.target.dataset.category], e.target.dataset.category);
                    });
            }
        });

        loadWishlist();
    </script>
</body>
</html>
